import{r as s,j as e,L as F,$ as j}from"./app-Q2KDsHL9.js";import{A as M}from"./AuthenticatedLayout-D93G_euz.js";import{S}from"./StarBackground-g68PfVH5.js";import{T as I}from"./TopTools-BOkEdqpQ.js";import{a as O,F as w}from"./UsersIcon-BCnVtjw1.js";import{F as B}from"./CurrencyDollarIcon-BhWSR5vq.js";import{F as z}from"./SparklesIcon-CDKTzVwh.js";import{u as P}from"./useTranslation-CjomllpJ.js";import"./ApplicationLogo-C1NYi92B.js";import"./LanguageSwitcher-BEakqEvS.js";import"./createLucideIcon-BBISsQlN.js";function W(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}))}const A=s.forwardRef(W);function D(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const T=s.forwardRef(D);function H(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"}))}const G=s.forwardRef(H);function V(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.563 9.75a12.014 12.014 0 00-3.427 5.136L9 12.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const U=s.forwardRef(V);function J(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const q=s.forwardRef(J);function K(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}))}const Q=s.forwardRef(K);function X(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const c=s.forwardRef(X);function Y(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const Z=s.forwardRef(Y);function ee(a,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t},a),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}const te=s.forwardRef(ee);function ue({auth:a,plan:t,canGeneratePDF:v,isPremium:re}){var b,k;const{t:r,i18n:_}=P(),[N,C]=s.useState(null),[u,f]=s.useState(!1),h=_.language==="ar",L=async()=>{f(!0);try{window.open(`/plans/${t.id}/pdf`,"_blank")}catch(n){console.error("Error generating PDF:",n)}finally{f(!1)}},i={draft:{icon:c,text:r("plans.status.draft"),color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20",borderColor:"border-yellow-300 dark:border-yellow-700"},completed:{icon:U,text:r("plans.status.completed"),color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/20",borderColor:"border-green-300 dark:border-green-700"},generating:{icon:c,text:r("plans.status.generating"),color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/20",borderColor:"border-blue-300 dark:border-blue-700"},failed:{icon:c,text:r("plans.status.failed"),color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900/20",borderColor:"border-red-300 dark:border-red-700"},premium:{icon:z,text:r("plans.status.premium"),color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/20",borderColor:"border-purple-300 dark:border-purple-700"}}[t.status]||{icon:c,text:r("plans.status.unknown"),color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900/20",borderColor:"border-gray-300 dark:border-gray-700"},$=i.icon;let o={};if(t.ai_analysis)if(typeof t.ai_analysis=="string")try{o=JSON.parse(t.ai_analysis)}catch{o={}}else typeof t.ai_analysis=="object"&&(o=t.ai_analysis);const m={executive_summary:{title:r("plans.sections.executive_summary"),content:o.executive_summary,completed:!!o.executive_summary},market_analysis:{title:r("plans.sections.market_analysis"),content:o.market_analysis,completed:!!o.market_analysis},swot_analysis:{title:r("plans.sections.swot_analysis"),content:o.swot_analysis,completed:!!o.swot_analysis},marketing_strategy:{title:r("plans.sections.marketing_strategy"),content:o.marketing_strategy,completed:!!o.marketing_strategy},financial_plan:{title:r("plans.sections.financial_plan"),content:o.financial_plan,completed:!!o.financial_plan},operational_plan:{title:r("plans.sections.operational_plan"),content:o.operational_plan,completed:!!o.operational_plan}},g=Object.values(m).filter(n=>n.completed).length,x=Object.keys(m).length,y=Math.round(g/x*100),E={executive_summary:w,market_analysis:G,marketing_strategy:O,financial_plan:B,swot_analysis:A,operational_plan:T};return e.jsxs(M,{user:a.user,children:[e.jsx("div",{className:"mb-20",children:e.jsx(I,{})}),e.jsx(F,{title:t.title}),e.jsx(S,{}),e.jsx("div",{className:"py-8 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.title}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${i.bgColor} ${i.color} ${i.borderColor}`,children:[e.jsx($,{className:"h-4 w-4 mr-1.5"}),i.text]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(j,{href:`/plans/${t.id}/edit`,className:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),r("common.edit")]}),v&&e.jsxs("button",{onClick:L,disabled:u,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md transition-colors flex items-center gap-2 disabled:opacity-50",children:[e.jsx(Z,{className:"h-4 w-4"}),r(u?"plans.generating_pdf":"plans.download_pdf")]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r("plans.overall_progress")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h?`${g} من ${x} أقسام مكتملة`:`${g} of ${x} sections completed`})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[y,"%"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.text})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"overflow-hidden h-4 mb-2 text-xs flex rounded-full bg-gray-200 dark:bg-gray-700",children:e.jsx("div",{style:{width:`${y}%`},className:"bg-indigo-600 h-4 rounded-full transition-all duration-500"})})})]}),t.project&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:r("plans.project_info")}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("plans.project_name")}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("plans.industry")}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:((b=t.project.industry)==null?void 0:b.industry_name)||r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Business Type"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:((k=t.project.business_type)==null?void 0:k.business_type_name)||r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("plans.target_market")}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.target_market||r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("plans.location")}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.location||r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Project Scale"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.project_scale||r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Team Size"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.team_size?`${t.project.team_size} people`:r("common.not_specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Revenue Model"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.project.revenue_model||r("common.not_specified")})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:h?"أقسام خطة العمل":"Business Plan Sections"}),e.jsx("div",{className:"space-y-4",children:Object.entries(m).map(([n,l])=>{const R=E[n]||w,d=N===n,p=!1;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>C(d?null:n),className:"w-full flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:p,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:l.title}),l.completed&&!0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:r("plans.status.completed_section")}),p]}),d?e.jsx(Q,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):e.jsx(q,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})]}),d&&!0&&e.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:l.completed&&l.content?e.jsx("div",{className:"prose prose-gray dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:l.content}}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:r("plans.section_not_completed")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:r("plans.start_filling_info")}),e.jsx(j,{href:`/plans/${t.id}/edit`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r("plans.complete_section")})]})}),d&&p]},n)})})]})]})}),e.jsx("style",{children:`
                .prose {
                    line-height: 1.75;
                }
                .prose h2 {
                    font-size: 1.5rem;
                    font-weight: 600;
                    margin-bottom: 1rem;
                    margin-top: 1.5rem;
                    color: #111827;
                    border-bottom: 2px solid #e5e7eb;
                    padding-bottom: 0.5rem;
                }
                .dark .prose h2 {
                    color: #f9fafb;
                    border-bottom-color: #374151;
                }
                .prose h3 {
                    font-size: 1.25rem;
                    font-weight: 600;
                    margin-bottom: 0.75rem;
                    margin-top: 1.25rem;
                    color: #111827;
                }
                .dark .prose h3 {
                    color: #f9fafb;
                }
                .prose p {
                    margin-bottom: 1rem;
                    line-height: 1.7;
                    color: #374151;
                    text-align: justify;
                }
                .dark .prose p {
                    color: #d1d5db;
                }
                .prose strong {
                    font-weight: 600;
                    color: #111827;
                }
                .dark .prose strong {
                    color: #f9fafb;
                }
                .prose ul, .prose ol {
                    margin: 1rem 0;
                    padding-left: 1.5rem;
                }
                .prose li {
                    margin-bottom: 0.5rem;
                    color: #374151;
                }
                .dark .prose li {
                    color: #d1d5db;
                }
                .prose br {
                    display: block;
                    margin: 0.5rem 0;
                }
            `})]})}export{ue as default};
