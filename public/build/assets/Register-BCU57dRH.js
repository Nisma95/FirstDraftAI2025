import{m as M,r as d,j as e,L as U,$ as E}from"./app-BFNWlO_M.js";import{T as B}from"./TextInput-RlxCU-Dc.js";import{T as H}from"./TopTools-w33ZHG0E.js";import{S as D}from"./StarBackground-D1ArU61Z.js";/* empty css                   */import{u as K}from"./useTranslation-CsAikbEO.js";import{m as g}from"./proxy-CE5YsAB4.js";import{C as G}from"./circle-check-big-Bt0Ab9MT.js";import{c as $}from"./createLucideIcon-CIfujlcg.js";import{A as W}from"./index-BhvtGb-9.js";import{E as X}from"./eye-CP3xKjD5.js";import{A as J}from"./arrow-right-gnG0v1SC.js";import"./ApplicationLogo-BDoObzXY.js";import"./AuthIcon-C6Kn68gb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],V=$("CircleAlert",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Z=$("EyeOff",Y);function ge({status:S,message:N,suggested_action:ee,...te}){const{t:l,i18n:r}=K(),{data:s,setData:k,post:R,processing:w,errors:p,reset:_}=M({name:"",email:"",password:"",password_confirmation:""}),[o,y]=d.useState(0),[h,I]=d.useState(!1),[b,T]=d.useState(!1),[n,A]=d.useState(document.documentElement.dir==="rtl"),[C,u]=d.useState({}),j=d.useRef([]),F=r.language==="ar"?"'Noto Sans Arabic', 'Tajawal', 'Cairo', sans-serif":"'Inter', 'Roboto', 'Helvetica Neue', sans-serif",x=[{name:"name",label:l("auth.register.fields.name.label"),placeholder:l("auth.register.fields.name.placeholder"),type:"text",autoComplete:"off"},{name:"email",label:l("auth.register.fields.email.label"),placeholder:l("auth.register.fields.email.placeholder"),type:"email",autoComplete:"off"},{name:"password",label:l("auth.register.fields.password.label"),placeholder:l("auth.register.fields.password.placeholder"),type:"password",autoComplete:"new-password"},{name:"password_confirmation",label:l("auth.register.fields.confirmPassword.label"),placeholder:l("auth.register.fields.confirmPassword.placeholder"),type:"password",autoComplete:"new-password"}];d.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("email");a&&(k("email",a),y(0))},[]),d.useEffect(()=>{const t=new MutationObserver(a=>{a.forEach(m=>{m.type==="attributes"&&(m.attributeName==="dir"||m.attributeName==="lang")&&A(document.documentElement.dir==="rtl")})});return t.observe(document.documentElement,{attributes:!0}),()=>{t.disconnect()}},[]),d.useEffect(()=>{j.current[o]&&j.current[o].focus()},[o]),d.useEffect(()=>{Object.keys(p).length>0&&u({})},[p]);const q=()=>{const t=x[o],a=s[t.name];return!a||a.trim()===""?!1:t.name==="email"?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a):t.name==="password"?a.length>=8:!0},P=t=>{t.preventDefault();const a=x[o],m=s[a.name];if(u({}),!m||m.trim()===""){u({[a.name]:r.language==="ar"?"هذا الحقل مطلوب":"This field is required"});return}if(!q()){a.name==="email"?u({email:r.language==="ar"?"يرجى إدخال بريد إلكتروني صحيح":"Please enter a valid email"}):a.name==="password"&&u({password:r.language==="ar"?"كلمة المرور يجب أن تكون 8 أحرف على الأقل":"Password must be at least 8 characters"});return}o<x.length-1?y(o+1):L()},z=t=>{t.key==="Enter"&&P(t)},L=()=>{const t={};if((!s.name||s.name.trim()==="")&&(t.name=r.language==="ar"?"الاسم مطلوب":"Name is required"),!s.email||s.email.trim()===""?t.email=r.language==="ar"?"البريد الإلكتروني مطلوب":"Email is required":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email=r.language==="ar"?"البريد الإلكتروني غير صحيح":"Invalid email format"),!s.password||s.password.trim()===""?t.password=r.language==="ar"?"كلمة المرور مطلوبة":"Password is required":s.password.length<8&&(t.password=r.language==="ar"?"كلمة المرور يجب أن تكون 8 أحرف على الأقل":"Password must be at least 8 characters"),!s.password_confirmation||s.password_confirmation.trim()===""?t.password_confirmation=r.language==="ar"?"تأكيد كلمة المرور مطلوب":"Password confirmation is required":s.password!==s.password_confirmation&&(t.password_confirmation=r.language==="ar"?"كلمة المرور غير متطابقة":"Passwords do not match"),Object.keys(t).length>0){u(t);return}R(route("register"),{onFinish:()=>_("password","password_confirmation"),onSuccess:()=>{console.log("Registration successful!")},onError:a=>{if(console.log("Server validation errors:",a),a.email&&a.email.includes("already been taken")){const m=r.language==="ar"?"البريد الإلكتروني مسجل مسبقاً. هل تريد تسجيل الدخول بدلاً من ذلك؟":"This email is already registered. Would you like to login instead?";confirm(m)&&(window.location.href=route("login")+"?email="+encodeURIComponent(s.email))}}})},O="/images/loginPix.jpeg",i=x[o],c=i.name==="password",f=i.name==="password_confirmation",v=C[i.name]||p[i.name];return e.jsxs("div",{className:`relative flex h-screen w-screen items-center justify-center p-4 ${n?"rtl":"ltr"}`,style:{fontFamily:F},dir:n?"rtl":"ltr",children:[e.jsx(D,{}),e.jsx(U,{title:l("auth.register.title")}),e.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-5xl overflow-hidden rounded-3xl shadow-2xl relative",style:{minHeight:"500px"},children:[e.jsx("div",{className:"absolute inset-0 bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${O})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-black/10"}),e.jsx("div",{className:"relative h-full w-full",children:e.jsx("div",{className:"flex justify-center items-center min-h-[500px] p-8",children:e.jsxs(g.div,{className:"w-full max-w-md",children:[S==="user_not_found"&&N&&e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-blue-500/20 border border-blue-400/30 rounded-xl backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:N}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:r.language==="ar"?"يرجى إكمال البيانات أدناه لإنشاء حسابك":"Please complete the information below to create your account"})]})]})}),p.email&&p.email.includes("already been taken")&&e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-400/30 rounded-xl backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm font-medium",children:r.language==="ar"?`البريد الإلكتروني "${s.email}" مسجل مسبقاً`:`Email "${s.email}" is already registered`}),e.jsx(E,{href:route("login")+"?email="+encodeURIComponent(s.email),className:"text-red-200 text-xs underline hover:text-red-100",children:r.language==="ar"?"انقر هنا لتسجيل الدخول":"Click here to login instead"})]})]})}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl overflow-hidden shadow-xl text-white mb-6",children:[e.jsx("div",{className:"flex justify-center items-center gap-4 p-4 my-10",dir:"ltr",children:e.jsx(H,{hideAuthIcon:!0})}),e.jsx("div",{className:"px-6 pb-2",children:e.jsxs("div",{className:`flex items-center justify-between ${n?"text-right":"text-left"}`,children:[e.jsx("h1",{className:`text-2xl font-bold fdGradientColorzTX ${n?"text-right":"text-left"}`,style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.15)"},children:l("auth.register.heading")}),e.jsxs("div",{className:"fdIcon w-12 h-12 flex items-center justify-center text-sm",children:[o+1,"/",x.length]})]})}),e.jsx("div",{className:"p-5 pb-8",children:e.jsx(W,{mode:"wait",children:e.jsxs(g.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},onSubmit:P,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:i.name,className:`mb-4 block text-lg font-medium text-white ${n?"text-right":"text-left"}`,children:i.label}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{ref:t=>j.current[o]=t,id:i.name,type:c?h?"text":"password":f?b?"text":"password":i.type,name:i.name,value:s[i.name],className:`w-full rounded-xl border-0 p-4 text-gray-900 bg-gray-100/90 shadow-inner focus:ring-2 focus:ring-indigo-600 dark:bg-gray-700/70 dark:text-white ${n?c||f?"text-right pl-20 pr-4":"text-right pl-12 pr-4":c||f?"text-left pr-20 pl-4":"text-left pr-12 pl-4"} ${v?"ring-2 ring-red-400":""}`,placeholder:i.placeholder,autoComplete:i.autoComplete,autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",onChange:t=>{k(i.name,t.target.value),C[i.name]&&u(a=>({...a,[i.name]:void 0}))},onKeyPress:z,required:!0,dir:n?"rtl":"ltr"}),(c||f)&&e.jsx("button",{type:"button",className:`absolute top-1/2 transform -translate-y-1/2 ${n?"left-3":"right-3"} p-2 rounded-lg transition-all duration-200 z-10 ${(c?h:b)?"bg-indigo-100 text-indigo-600 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700"}`,onClick:()=>{c?I(!h):T(!b)},children:(c?h:b)?e.jsx(Z,{size:18,className:"stroke-2"}):e.jsx(X,{size:18,className:"stroke-2"})}),e.jsx("button",{type:"submit",className:`absolute ${n?c||f?"left-14":"left-3":c||f?"right-14":"right-3"} top-1/2 transform -translate-y-1/2 rounded-full p-2 bg-indigo-600 hover:bg-indigo-700 text-white transition-colors ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:w?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(J,{size:18,className:n?"rotate-180":""})})]}),v&&e.jsx("div",{className:`mt-2 text-red-400 text-sm ${n?"text-right":"text-left"}`,children:v})]}),o>0&&e.jsxs("button",{type:"button",onClick:()=>y(o-1),className:`mt-4 text-xs text-indigo-400 hover:text-indigo-300 transition-colors ${n?"text-right":"text-left"}`,children:[n?"→":"←"," ",l("auth.register.goBack")]})]},o)})})]}),e.jsx("div",{className:"text-center px-4",children:e.jsxs("p",{className:"text-sm text-white bg-gray-800/40 backdrop-blur-sm inline-block px-4 py-2 rounded-full",children:[l("auth.register.alreadyHaveAccount")," ",e.jsx(E,{href:route("login"),className:"font-medium text-indigo-300 hover:text-indigo-200 transition-colors",children:l("auth.signIn")})]})})]})})})]})]})}export{ge as default};
