import{r as l,j as e}from"./app-DE_R_iJl.js";import{F as x}from"./CurrencyDollarIcon-BYF2eA3N.js";import{F as _}from"./PlusIcon-u_rSp_ZN.js";import{F}from"./SparklesIcon-DoGcjtNO.js";import{u as I}from"./useTranslation-DZNTQt5Z.js";import{m as o}from"./proxy-D8RcZd1H.js";function E(c,s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s},c),l.createElement("path",{strokeLinecap:"round",d:"M3 12h18"}))}const R=l.forwardRef(E);function B(c,s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s},c),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"}))}const Q=l.forwardRef(B);function z({question:c,questionType:s="text",questionDetails:d=null}){const{t:n}=I(),[p,y]=l.useState((d==null?void 0:d.costBreakdown)||{}),[u,m]=l.useState([]),f=()=>s==="number"||s==="cost_breakdown"?e.jsx(x,{className:"w-6 h-6 text-white"}):s==="cost_breakdown"?e.jsx(x,{className:"w-6 h-6 text-white"}):e.jsx(Q,{className:"w-6 h-6 text-white"}),h=()=>s==="number"?n("numeric_question","Numeric Question"):s==="cost_breakdown"?n("cost_breakdown_question","Cost Breakdown Question"):n("text_question","Text Question"),k=(t,r)=>{y(a=>({...a,[t]:parseFloat(r)||0}))},w=()=>{const t=`custom_${Date.now()}`;m(r=>[...r,{key:t,name:"",cost:0}])},g=(t,r,a)=>{m(i=>i.map((b,C)=>C===t?{...b,[r]:a}:b))},j=t=>{m(r=>r.filter((a,i)=>i!==t))},v=()=>{const t=Object.values(p).reduce((a,i)=>a+(parseFloat(i)||0),0),r=u.reduce((a,i)=>a+(parseFloat(i.cost)||0),0);return t+r},N=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t);return e.jsx(o.div,{className:"p-6 bg-gradient-to-r from-purple-50/50 to-pink-50/50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl border border-purple-200/30 dark:border-purple-700/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(o.div,{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center relative",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:[f(),e.jsx(o.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full",animate:{scale:[1,1.2,1],opacity:[.7,0,.7]},transition:{duration:2,repeat:1/0}})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),n("ai_assistant","AI Assistant")]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:h()})]})}),e.jsx(o.p,{className:"text-gray-800 dark:text-gray-200 text-lg leading-relaxed mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:c}),s==="cost_breakdown"&&(d==null?void 0:d.costItems)&&e.jsxs(o.div,{className:"mt-6 p-4 bg-white/60 dark:bg-gray-800/60 rounded-lg border border-gray-200/50 dark:border-gray-600/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsxs("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-green-600"}),n("cost_breakdown_details","Cost Breakdown Details")]}),e.jsxs("div",{className:"space-y-3",children:[d.costItems.map((t,r)=>e.jsxs(o.div,{className:"flex items-center justify-between p-3 bg-gray-50/80 dark:bg-gray-700/80 rounded-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+r*.1},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:t.name}),t.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.description}),t.examples&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[n("examples","Examples"),":"," ",t.examples.join(", ")]})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:p[t.key]||"",onChange:a=>k(t.key,a.target.value),placeholder:"0",className:"w-28 pl-8 pr-3 py-2 text-right border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"0",step:"100"})]})})]},t.key)),u.map((t,r)=>e.jsxs(o.div,{className:"flex items-center justify-between p-3 bg-blue-50/80 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-700",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:t.name,onChange:a=>g(r,"name",a.target.value),placeholder:n("custom_item_name","Custom item name..."),className:"w-full text-sm font-medium border-none bg-transparent text-gray-700 dark:text-gray-300 placeholder-gray-400 focus:outline-none"})}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:t.cost||"",onChange:a=>g(r,"cost",a.target.value),placeholder:"0",className:"w-28 pl-8 pr-3 py-2 text-right border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"0",step:"100"})]}),e.jsx("button",{onClick:()=>j(r),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:e.jsx(R,{className:"w-4 h-4"})})]})]},t.key)),e.jsxs(o.button,{onClick:w,className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 hover:border-purple-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(_,{className:"w-4 h-4"}),n("add_custom_item","Add custom item")]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:n("total_estimated_cost","Total Estimated Cost")}),e.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:N(v())})]})})]})]}),s==="number"&&s!=="cost_breakdown"&&e.jsxs(o.div,{className:"mt-3 text-sm text-purple-600 dark:text-purple-400 bg-purple-100/50 dark:bg-purple-900/30 px-3 py-2 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:["ðŸ’¡"," ",n("number_question_hint","Please provide a numeric answer")]})]})]})})}export{z as default};
