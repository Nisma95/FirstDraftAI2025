import{r as l,j as e}from"./app-BFNWlO_M.js";import{u as L}from"./useTranslation-CsAikbEO.js";import{S as O}from"./slash-CL66dzE2.js";import"./createLucideIcon-CIfujlcg.js";const U=()=>{const{t:r,i18n:E}=L(),c=E.dir()==="rtl",y=l.useRef(null),w=l.useRef(null),[i,k]=l.useState({name:"",company:"",email:"",message:""}),[m,N]=l.useState(null),[x,v]=l.useState(!1),[d,S]=l.useState(!1),[n,R]=l.useState(!1),[j,T]=l.useState(""),[$,u]=l.useState(""),[F,A]=l.useState(!1),[C,P]=l.useState({x:0,y:0}),[_,z]=l.useState([]);l.useEffect(()=>{let t=null;const a=s=>{t||(t=setTimeout(()=>{if(w.current){const o=w.current.getBoundingClientRect();P({x:s.clientX-o.left,y:s.clientY-o.top})}t=null},50))};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a),t&&clearTimeout(t)}},[]),l.useEffect(()=>{const t=Array.from({length:15},(a,s)=>({id:s,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1,opacity:Math.random()*.5+.3,duration:Math.random()*5+3}));z(t)},[]),l.useEffect(()=>{!F&&y.current&&(y.current.querySelectorAll(".animate-item").forEach((a,s)=>{a.style.opacity="0",a.style.transform="translateY(20px)",setTimeout(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateY(0)"},100+s*100)}),A(!0))},[F]);const f=t=>{const{name:a,value:s}=t.target;k(o=>({...o,[a]:s})),u("")},b=t=>{N(t),v(!0)},h=()=>{N(null);const t=Object.values(i).some(a=>a.trim()!=="");v(t)},B=async t=>{var a;console.log("🚀 Submitting to API:",t);try{const s=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""},body:JSON.stringify(t)});console.log("📡 Response status:",s.status),console.log("📡 Response URL:",s.url);const o=await s.text();if(console.log("📄 Raw response:",o),!s.ok)throw console.error("❌ Response not OK:",s.status,o),new Error(`HTTP ${s.status}: ${o}`);const p=JSON.parse(o);return console.log("✅ Parsed result:",p),p}catch(s){console.error("💥 API Error:",s);try{console.log("🔄 Trying full URL...");const o=await fetch("https://firstdraft.sa/api/contact",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(o.ok){const p=await o.json();return console.log("✅ Backup URL worked:",p),p}}catch(o){console.error("💥 Backup URL failed:",o)}throw s}},M=async t=>{if(t.preventDefault(),!i.name.trim()||!i.email.trim()||!i.message.trim()){u("Please fill in all required fields.");return}console.log("📝 Form data being submitted:",i),R(!0),u("");try{const a=await B(i);console.log("🎯 Final result:",a),a.success?(S(!0),T(a.message||"Thank you for your message! We'll get back to you soon."),setTimeout(()=>{k({name:"",company:"",email:"",message:""}),v(!1),S(!1),T("")},3e3)):u(a.message||"Something went wrong. Please try again.")}catch(a){console.error("💔 Contact form submission failed:",a),u(`Failed to send message: ${a.message}. Please try again later.`)}finally{R(!1)}},g=t=>({width:"100%",backgroundColor:"transparent",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:m===t?"2px solid #5956e9":"1px solid rgba(107, 114, 128, 0.6)",paddingBottom:"6px",outline:"none",color:"currentColor",boxShadow:"none",borderRadius:0,WebkitAppearance:"none",MozAppearance:"none",appearance:"none",transition:"all 0.3s ease",transform:m===t?"translateY(-3px)":"translateY(0px)"});return e.jsxs("div",{ref:w,className:`w-full min-h-screen text-gray-800 dark:text-white px-4 md:px-8 py-8 relative overflow-hidden transition-colors duration-300 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[e.jsx("div",{className:"hidden dark:block",children:_.map(t=>e.jsx("div",{className:"absolute rounded-full bg-white",style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.size}px`,height:`${t.size}px`,opacity:t.opacity,animation:`twinkle ${t.duration}s infinite ease-in-out`}},t.id))}),e.jsx("div",{className:"pointer-events-none absolute rounded-full mix-blend-multiply dark:mix-blend-screen opacity-30",style:{left:C.x,top:C.y,width:"150px",height:"150px",background:"radial-gradient(circle, rgba(89,86,233,0.8) 0%, rgba(89,86,233,0) 70%)",transform:"translate(-50%, -50%)",transition:"left 0.2s ease, top 0.2s ease"}}),e.jsxs("form",{ref:y,onSubmit:M,className:"w-full max-w-6xl mx-auto relative z-10",dir:c?"rtl":"ltr",children:[e.jsx("div",{className:"flex items-center mb-12 animate-item",children:e.jsx("div",{className:"flex items-center overflow-hidden",children:e.jsxs("h2",{className:"fdGradientColorzTX text-7xl md:text-8xl lg:text-9xl inline-flex relative",children:[r("contact.greeting"),e.jsx("span",{className:"absolute -top-12 text-6xl animate-bounce delay-500 right-0",children:"👋"})]})})}),$&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded animate-item",children:$}),d&&j&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded animate-item",children:j}),e.jsx("div",{className:"mb-10 animate-item overflow-hidden",children:e.jsxs("div",{className:`flex flex-col md:flex-row items-baseline relative ${c?"flex-row-reverse":""}`,children:[e.jsxs("label",{htmlFor:"name",className:"text-3xl md:text-4xl lg:text-5xl font-bold whitespace-nowrap mr-4 mb-3 md:mb-0 relative",children:[r("contact.name_label"),m==="name"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-purple-500 to-blue-500 animate-pulse"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:f,onFocus:()=>b("name"),onBlur:h,className:"w-full placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("contact.name_placeholder"),style:g("name"),required:!0,disabled:n})]})}),e.jsx("div",{className:"mb-10 animate-item overflow-hidden",children:e.jsxs("div",{className:`flex flex-col md:flex-row items-baseline relative ${c?"flex-row-reverse":""}`,children:[e.jsxs("label",{htmlFor:"company",className:"text-3xl md:text-4xl lg:text-5xl font-bold whitespace-nowrap mr-4 mb-3 md:mb-0 relative",children:[r("contact.company_label"),m==="company"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-purple-500 to-blue-500 animate-pulse"})]}),e.jsx("input",{type:"text",id:"company",name:"company",value:i.company,onChange:f,onFocus:()=>b("company"),onBlur:h,className:"w-full placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("contact.company_placeholder"),style:g("company"),disabled:n})]})}),e.jsx("div",{className:"mb-10 animate-item overflow-hidden",children:e.jsxs("div",{className:`flex flex-col md:flex-row items-baseline relative ${c?"flex-row-reverse":""}`,children:[e.jsxs("label",{htmlFor:"email",className:"text-3xl md:text-4xl lg:text-5xl font-bold whitespace-nowrap mr-4 mb-3 md:mb-0 relative",children:[r("contact.email_label"),m==="email"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-purple-500 to-blue-500 animate-pulse"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:f,onFocus:()=>b("email"),onBlur:h,className:"w-full placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("contact.email_placeholder"),style:g("email"),required:!0,disabled:n})]})}),e.jsx("div",{className:"mb-12 animate-item overflow-hidden",children:e.jsxs("div",{className:`flex flex-col md:flex-row items-baseline relative ${c?"flex-row-reverse":""}`,children:[e.jsxs("label",{htmlFor:"message",className:"text-3xl md:text-4xl lg:text-5xl font-bold whitespace-nowrap mr-4 mb-3 md:mb-0 relative",children:[r("contact.message_label"),m==="message"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-purple-500 to-blue-500 animate-pulse"})]}),e.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:f,onFocus:()=>b("message"),onBlur:h,className:"w-full placeholder-gray-500 dark:placeholder-gray-400 resize-none",placeholder:r("contact.message_placeholder"),style:{...g("message"),minHeight:"100px"},rows:"4",required:!0,disabled:n})]})}),e.jsx("div",{className:"mt-10 animate-item",children:e.jsxs("button",{type:"submit",className:`group flex items-center ${c?"flex-row-reverse":""} justify-between w-full rounded-full py-4 px-5 text-2xl font-bold transition-all duration-300 relative overflow-hidden ${x&&!n?"Fdbg text-white":"bg-gray-200 text-gray-800 dark:bg-white dark:text-black"} ${n?"opacity-75 cursor-not-allowed":""}`,style:{borderRadius:"9999px"},disabled:d||n,children:[e.jsx("span",{className:`transition-all duration-300 relative z-10 ${d?"animate-pulse":""}`,children:n?"Sending...":d?j||r("contact.thanks_message"):r("contact.submit_button")}),x&&!d&&!n&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-blue-500 to-purple-600 opacity-90 background-animate"}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full transition-all duration-300 ${x&&!n?"bg-black text-white":"bg-gray-800 text-white dark:bg-black dark:text-white"}`,style:{borderRadius:"9999px"},children:n?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(O,{size:16,strokeWidth:5,className:`transition-transform duration-300 ${x?"rotate-[90deg]":""}`})})]})})]}),e.jsx("style",{jsx:!0,children:`
                @keyframes twinkle {
                    0%,
                    100% {
                        opacity: 0.2;
                        transform: scale(0.8);
                    }
                    50% {
                        opacity: 0.8;
                        transform: scale(1.2);
                    }
                }

                .background-animate {
                    background-size: 400%;
                    animation: gradient 3s ease infinite;
                }

                @keyframes gradient {
                    0%,
                    100% {
                        background-position: 0% 50%;
                    }
                    50% {
                        background-position: 100% 50%;
                    }
                }

                /* Light mode specific styles */
                @media (prefers-color-scheme: light) {
                    input::placeholder,
                    textarea::placeholder {
                        color: rgba(107, 114, 128, 0.8);
                    }
                }

                /* Dark mode specific styles */
                @media (prefers-color-scheme: dark) {
                    input::placeholder,
                    textarea::placeholder {
                        color: rgba(209, 213, 219, 0.8);
                    }
                }
            `})]})};export{U as default};
