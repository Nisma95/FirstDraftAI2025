import{r as c,j as e}from"./app-DE_R_iJl.js";import{u as p}from"./useTranslation-DZNTQt5Z.js";function v({question:t,answer:d,onChange:x,onKeyPress:n,disabled:o=!1,autoFocus:i=!0,placeholder:m}){const{t:r}=p(),b=c.useRef(null),u=c.useRef(null),s=(t==null?void 0:t.type)==="number",l=(t==null?void 0:t.type)==="cost_breakdown";c.useEffect(()=>{if(i&&!o&&!l){const a=s?b.current:u.current;a&&a.focus()}},[t==null?void 0:t.question,i,o,s,l]);const h=a=>{n&&n(a),a.key==="Enter"&&a.ctrlKey&&!s&&!l&&(a.preventDefault(),n&&n(a))};if(l)return e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:r("cost_breakdown_answer","Cost breakdown complete")}),e.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/30 border border-teal-200 dark:border-teal-800 rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2 text-teal-700 dark:text-teal-300",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-medium",children:r("cost_breakdown_ready","Please fill in the cost estimates above, then click 'Next Question' to continue.")})]})}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("cost_breakdown_instructions","Fill in the cost estimates for each item. You can add custom items if needed. The total will be calculated automatically.")})]});const f=()=>s?e.jsx("input",{ref:b,type:"number",value:d,onChange:a=>x(a.target.value),onKeyDown:h,placeholder:m||r("enter_number_placeholder","Enter number here..."),className:"w-full h-12 p-4 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-slate-800 dark:text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:border-indigo-300 dark:hover:border-indigo-700",autoFocus:i,disabled:o,min:"0",step:"any"}):e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{ref:u,value:d,onChange:a=>x(a.target.value),onKeyDown:h,placeholder:m||r("enter_answer_placeholder","Write your answer here..."),className:"w-full h-36 p-4 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-slate-800 dark:text-white resize-none transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:border-indigo-300 dark:hover:border-indigo-700",autoFocus:i,disabled:o}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-slate-400 dark:text-slate-500 bg-white dark:bg-slate-800 px-2 py-1 rounded-md",children:[d.length," ",r("characters","characters")]})]});return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:!l&&e.jsxs(e.Fragment,{children:[r("your_answer","Your answer:"),(t==null?void 0:t.type)==="number"&&e.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 ml-1",children:["(",r("numeric_value","numeric value"),")"]})]})}),f(),!l&&e.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500 dark:text-slate-400 px-1",children:[e.jsx("span",{className:"flex items-center gap-1",children:s?r("enter_valid_number","Enter a valid number"):e.jsxs(e.Fragment,{children:[e.jsx("kbd",{className:"px-2 py-0.5 text-xs text-slate-700 bg-slate-100 dark:bg-slate-700 dark:text-slate-300 rounded-md border border-slate-300 dark:border-slate-600",children:"Ctrl + Enter"})," ",r("to_submit","to submit")]})}),!s&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d.length<10?"text-red-700 bg-red-50 dark:bg-red-900/20 dark:text-red-400":"text-indigo-700 bg-indigo-50 dark:bg-indigo-900/20 dark:text-indigo-400"}`,children:d.length<10?r("answer_too_short","Try to provide more detail"):r("good_length","Good length")})]})]})}export{v as default};
