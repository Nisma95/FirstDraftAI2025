import{m as H,r as t,j as e,L as O,$ as S}from"./app-BFNWlO_M.js";import{T as q}from"./TopTools-w33ZHG0E.js";import{I as z}from"./InputError-By7lSjtF.js";import{S as U}from"./StarBackground-D1ArU61Z.js";import{u as W}from"./useTranslation-CsAikbEO.js";/* empty css                   */import{m as f}from"./proxy-CE5YsAB4.js";import{A}from"./index-BhvtGb-9.js";import{A as D}from"./arrow-right-gnG0v1SC.js";import{E as B}from"./eye-CP3xKjD5.js";import"./ApplicationLogo-BDoObzXY.js";import"./AuthIcon-C6Kn68gb.js";import"./createLucideIcon-CIfujlcg.js";const G=()=>{const{data:n,setData:k,post:r,processing:w,errors:b}=H({email:"",password:"",remember:!0}),[y,i]=t.useState(document.documentElement.classList.contains("dark")),[v,E]=t.useState(document.documentElement.dir==="rtl"),[a,j]=t.useState("email"),[P,m]=t.useState(""),[T,x]=t.useState(""),[h,p]=t.useState(!0),[o,d]=t.useState(!0),[$,R]=t.useState(!1),[C,F]=t.useState(!1),N=t.useRef(null),u=t.useRef(null),{t:I,i18n:g}=W(),V=g.language==="ar"?"'Noto Sans Arabic', 'Tajawal', 'Cairo', sans-serif":"'Inter', 'Roboto', 'Helvetica Neue', sans-serif";return t.useEffect(()=>{const s=new MutationObserver(c=>{c.forEach(l=>{l.type==="attributes"&&l.attributeName==="class"&&i(document.documentElement.classList.contains("dark")),l.type==="attributes"&&(l.attributeName==="dir"||l.attributeName==="lang")&&E(document.documentElement.dir==="rtl")})});return s.observe(document.documentElement,{attributes:!0}),()=>s.disconnect()},[]),t.useEffect(()=>{a==="email"&&(p(!0),m("")),a==="password"&&(d(!0),x(""))},[g.language,a]),t.useEffect(()=>{if(a==="email"&&h&&!n.email){const s=I("auth.emailPlaceholder")||(g.language==="ar"?"بريدي الإلكتروني هو...":"My access email is...");let c=0;const l=setInterval(()=>{c<=s.length?(m(s.substring(0,c)),c++):clearInterval(l)},100);return()=>clearInterval(l)}if(a==="password"&&o&&!n.password){const s=I("auth.passwordPlaceholder")||(g.language==="ar"?"أدخل كلمة المرور...":"Enter your password...");let c=0;const l=setInterval(()=>{c<=s.length?(x(s.substring(0,c)),c++):(clearInterval(l),setTimeout(()=>{let L="";const M=setInterval(()=>{L.length<8?(L+="*",x(L)):clearInterval(M)},100)},800))},100);return()=>clearInterval(l)}},[a,h,o,n.email,n.password,g.language,I]),t.useEffect(()=>{a==="email"&&N.current?N.current.focus():a==="password"&&u.current&&u.current.focus()},[a]),{data:n,setData:k,processing:w,errors:b,isDarkMode:y,isRtl:v,loginStep:a,emailText:P,passwordText:T,showEmailPlaceholder:h,setShowEmailPlaceholder:p,showPasswordPlaceholder:o,setShowPasswordPlaceholder:d,isPasswordVisible:$,loginFailed:C,emailInputRef:N,passwordInputRef:u,fontFamily:V,t:I,i18n:g,handleEmailSubmit:s=>{s.preventDefault(),n.email&&(j("password"),d(!0),x(""))},handlePasswordVisibility:()=>{R(s=>!s)},resetToEmailStep:()=>{j("email"),F(!1)},submit:s=>{s.preventDefault(),r(route("login"))}}};function ce({status:n,canResetPassword:k}){const{data:r,setData:w,processing:b,errors:y,isRtl:i,loginStep:v,emailText:E,passwordText:a,setShowEmailPlaceholder:j,setShowPasswordPlaceholder:P,isPasswordVisible:m,loginFailed:T,emailInputRef:x,passwordInputRef:h,fontFamily:p,t:o,i18n:d,handleEmailSubmit:$,handlePasswordVisibility:R,resetToEmailStep:C,submit:F}=G();return e.jsxs("div",{className:"relative flex h-screen w-screen items-center justify-center p-4",style:{fontFamily:p},children:[e.jsx(U,{}),e.jsx(O,{title:o("auth.signIn")}),e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-5xl overflow-hidden rounded-3xl shadow-2xl relative",style:{minHeight:"500px"},children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/images/loginPix.jpeg)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-black/10"}),e.jsx("div",{className:"relative h-full w-full",children:e.jsx("div",{className:"flex justify-center items-center min-h-[500px] p-8",children:e.jsxs(f.div,{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl overflow-hidden shadow-xl text-white mb-6",children:[e.jsx("div",{className:"flex justify-center items-center gap-4 p-4 my-10",dir:"ltr",children:e.jsx(q,{hideAuthIcon:!0})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold fdGradientColorzTX mb-1",children:o("auth.signIn")}),e.jsx("p",{className:"text-sm text-gray-200",children:o("auth.loginDesc")})]}),n&&e.jsx("div",{className:"mx-5 mb-4 rounded-lg bg-green-100 p-3 text-sm font-medium text-green-700 dark:bg-green-900/50 dark:text-green-200",children:n}),e.jsxs("div",{className:"p-5 pb-8",children:[e.jsx(A,{mode:"wait",children:v==="email"?e.jsxs(f.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},onSubmit:$,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${r.email?"hidden":"block"} absolute ${i?"right-4":"left-4"} top-1/2 transform -translate-y-1/2 text-gray-400 text-sm pointer-events-none z-10`,style:{maxWidth:"calc(100% - 120px)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:E}),e.jsx("input",{ref:x,id:"email",type:"email",name:"email",value:r.email,className:`w-full rounded-xl border-0 py-4 ${i?"pr-4 pl-20 text-right":"pl-4 pr-20 text-left"} text-gray-900 bg-gray-100/90 shadow-inner focus:ring-2 focus:ring-indigo-600 dark:bg-gray-700/70 dark:text-white`,placeholder:"",autoComplete:"username",dir:i?"rtl":"ltr",style:{fontFamily:p},onChange:u=>{w("email",u.target.value),j(!1)}}),e.jsx("button",{type:"submit",className:`absolute ${i?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 rounded-full p-2 bg-indigo-600 hover:bg-indigo-700 text-white transition-colors z-20 ${r.email?"":"opacity-50 cursor-not-allowed"}`,disabled:!r.email,children:e.jsx(D,{size:18})})]}),e.jsx(z,{message:y.email,className:"mt-2"})]},"emailForm"):v==="password"?e.jsx(f.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},onSubmit:F,children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm mb-2 text-gray-300",children:[e.jsxs("span",{children:[d.language==="ar"?"تسجيل الدخول باسم":"Logging in as"," "]}),e.jsx("span",{className:"font-semibold text-white",children:r.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${r.password?"hidden":"block"} absolute ${i?"right-4":"left-4"} top-1/2 transform -translate-y-1/2 text-gray-400 text-sm pointer-events-none z-10`,style:{maxWidth:"calc(100% - 120px)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:a}),e.jsx("input",{ref:h,id:"password",type:m?"text":"password",name:"password",value:r.password,className:`w-full rounded-xl border-0 py-4 ${i?"pr-4 pl-20 text-right":"pl-4 pr-20 text-left"} text-gray-900 bg-gray-100/90 shadow-inner focus:ring-2 focus:ring-indigo-600 dark:bg-gray-700/70 dark:text-white`,placeholder:"",autoComplete:"current-password",dir:i?"rtl":"ltr",style:{fontFamily:p},onChange:u=>{w("password",u.target.value),P(!1)}}),e.jsx("button",{type:"button",className:`absolute top-1/2 transform -translate-y-1/2 ${i?"left-12":"right-12"} ${m?"text-indigo-500":"text-gray-500"} hover:text-indigo-700 dark:hover:text-indigo-400 transition-colors z-20`,onClick:R,"aria-label":m?"Hide password":"Show password",children:e.jsx(B,{size:18,className:m?"fill-current":""})}),e.jsx("button",{type:"submit",className:`absolute ${i?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 rounded-full p-2 bg-indigo-600 hover:bg-indigo-700 text-white transition-colors z-20 ${!r.password||b?"opacity-50 cursor-not-allowed":""}`,disabled:!r.password||b,children:e.jsx(D,{size:18})})]}),e.jsx(z,{message:y.password,className:"mt-2"}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:C,className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:d.language==="ar"?"← تغيير الإيميل":"← Change email"}),k&&e.jsx(S,{href:route("password.request"),className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:o("auth.forgotPassword")})]})]})},"passwordForm"):null}),e.jsx(A,{children:T&&e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},className:"mt-6 p-4 bg-red-500/20 backdrop-blur-sm rounded-xl text-center",children:[e.jsx("p",{className:"text-sm font-medium text-white mb-2",children:d.language==="ar"?"كلمة مرور خاطئة. نسيت كلمة المرور؟":"Incorrect password. Forgot password?"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(S,{href:route("password.request"),className:"text-xs text-indigo-300 hover:text-indigo-200 transition-colors",children:d.language==="ar"?"إعادة تعيين كلمة المرور":"Reset password"}),e.jsx(S,{href:"#",onClick:()=>setLoginFailed(!1),className:"text-xs text-indigo-300 hover:text-indigo-200 transition-colors",children:d.language==="ar"?"حاول مرة أخرى":"Try again"})]})]})})]})]}),e.jsx("div",{className:"text-center px-4",children:e.jsxs("p",{className:"text-sm text-white bg-gray-800/40 backdrop-blur-sm inline-block px-4 py-2 rounded-full",children:[o("auth.noAccount")," ",e.jsx(S,{href:route("register"),className:"font-medium text-indigo-300 hover:text-indigo-200 transition-colors",children:o("auth.createAccount")})]})})]})})})]})]})}export{ce as default};
