import{r as n,j as e,L as E,S as m}from"./app-D5KJKhJS.js";import{A as G}from"./AuthenticatedLayout-B9u-340k.js";import{T as $}from"./TopTools-QygiclXm.js";import{u as L}from"./useTranslation-CrCmHPzr.js";import{m as a}from"./proxy--iMm2A_E.js";import{A as q}from"./index-BmaeTbnI.js";import{X as N}from"./x-jvugGyE3.js";import{H as B}from"./heart-BL-z3jqn.js";import{P as _}from"./plus-CAzoMAL2.js";import{S as F}from"./sparkles-Cq9OYacH.js";import{F as x}from"./file-text-BaHFwyo8.js";import{Z as O}from"./zap-CPeq4BES.js";import{T as V}from"./trash-2-MyeixQf0.js";import{T as Z}from"./target-BE0fseZS.js";import{C as J}from"./calendar-CmPgwTR3.js";import{c as U}from"./createLucideIcon-BssDY335.js";import{D as R}from"./download-Ce8nl2XN.js";import{E as X}from"./eye-BMZZukqU.js";import{T as K}from"./trending-up-BjQvXdc-.js";import{S as Q}from"./star-DiHN-yN5.js";import{C as W}from"./clock-zvwkdlBR.js";import{C as Y}from"./circle-check-big-D5IlfV27.js";import"./StarBackground-BDuhWoyM.js";import"./ApplicationLogo-afz42K3C.js";import"./AuthIcon-O5656x4l.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],te=U("Brain",ee);function Se({auth:d,plans:h=[],projects:ae=[]}){const{t:r,i18n:C}=L();C.dir();const[u,f]=n.useState(new Set),[c,p]=n.useState(null),[P,g]=n.useState(!1),[S,b]=n.useState(null);n.useEffect(()=>{const t=localStorage.getItem(`deletedPlans_${d.user.id}`);if(t)try{f(new Set(JSON.parse(t)))}catch(s){console.error("Error parsing saved deleted plans:",s)}},[d.user.id]);const y=Array.isArray(h)?h.filter(t=>!u.has(t.id)):[],w=()=>{m.get(route("plans.create"))},z=t=>{const s=new Set([...u,t]);f(s),localStorage.setItem(`deletedPlans_${d.user.id}`,JSON.stringify([...s])),g(!1),p(null)},T=t=>{p(t),g(!0)},v=()=>{g(!1),p(null)},M=t=>({draft:{color:"bg-gradient-to-r from-amber-500 to-orange-400 text-white shadow-lg shadow-amber-500/30",icon:x,label:r("plans.status.draft","Draft"),bgGradient:"bg-gradient-to-br from-amber-500/10 to-orange-400/10 dark:from-amber-500/20 dark:to-orange-400/20"},completed:{color:"bg-gradient-to-r from-green-500 to-emerald-400 text-white shadow-lg shadow-green-500/30",icon:Y,label:r("plans.status.completed","Completed"),bgGradient:"bg-gradient-to-br from-green-500/10 to-emerald-400/10 dark:from-green-500/20 dark:to-emerald-400/20"},generating:{color:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white shadow-lg shadow-blue-500/30",icon:W,label:r("plans.status.generating","Generating"),bgGradient:"bg-gradient-to-br from-blue-500/10 to-cyan-400/10 dark:from-blue-500/20 dark:to-cyan-400/20"},premium:{color:"bg-gradient-to-r from-purple-500 to-indigo-400 text-white shadow-lg shadow-purple-500/30",icon:Q,label:r("plans.status.premium","Premium"),bgGradient:"bg-gradient-to-br from-purple-500/10 to-indigo-400/10 dark:from-purple-500/20 dark:to-indigo-400/20"},failed:{color:"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg shadow-red-500/30",icon:N,label:r("plans.status.failed","Failed"),bgGradient:"bg-gradient-to-br from-red-500/10 to-red-600/10 dark:from-red-500/20 dark:to-red-600/20"}})[t]||{color:"bg-gradient-to-r from-gray-500 to-gray-400 text-white shadow-lg shadow-gray-500/30",icon:x,label:t,bgGradient:"bg-gradient-to-br from-gray-500/10 to-gray-400/10 dark:from-gray-500/20 dark:to-gray-400/20"},D=t=>{let s=0;const o=6;return t.ai_analysis&&["executive_summary","market_analysis","swot_analysis","marketing_strategy","financial_plan","operational_plan"].forEach(l=>{t.ai_analysis[l]&&t.ai_analysis[l].trim()!==""&&s++}),s===0&&(t.summary&&t.summary.trim()!==""&&s++,t.title&&t.title.trim()!==""&&s++),Math.min(100,s/o*100)},H={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},A={hidden:{opacity:0,y:30,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",duration:.5,bounce:.3}}},I={floating:{y:[-8,8,-8],rotate:[-1,1,-1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return e.jsxs(G,{user:d.user,children:[e.jsx("div",{className:"mb-10",children:e.jsx($,{})}),e.jsx(E,{title:r("plans.title","Business Plans")}),e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(a.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-3xl",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),e.jsx(a.div,{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-cyan-400/20 rounded-full blur-3xl",animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"}}),e.jsx(a.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-indigo-400/10 to-purple-400/10 rounded-full blur-3xl",animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:30,repeat:1/0,ease:"linear"}})]}),e.jsxs("div",{className:"min-h-screen py-8 px-4 relative z-10",children:[e.jsx(q,{children:P&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[9999]",children:e.jsxs(a.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl p-6 w-full max-w-md mx-4 shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r("plans.delete_plan","Delete Plan")}),e.jsx(a.button,{onClick:v,whileHover:{scale:1.1},whileTap:{scale:.95},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(N,{size:20})})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:[r("plans.delete_plan_confirmation","Are you sure you want to delete the plan")," ",'"',c==null?void 0:c.title,'"?',e.jsx("br",{}),e.jsx("span",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2 block",children:r("plans.delete_frontend_persistent","Note: This will hide the plan from the interface but will not remove it from the database")})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(a.button,{onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-xl transition-all duration-300",children:r("common.cancel","Cancel")}),e.jsx(a.button,{onClick:()=>z(c.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-xl transition-all duration-300 shadow-lg shadow-red-500/30",children:r("common.delete","Delete")})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(a.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{type:"spring",duration:.6},className:"mb-12 relative",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a.div,{className:"absolute -top-6 -left-6 w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full opacity-20",animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"}}),e.jsx(a.h1,{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2},children:r("plans.title","Business Plans")}),e.jsxs(a.div,{className:"mt-3 flex items-center gap-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx(B,{size:20,className:"text-pink-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:r("plans.plans_subtitle","Manage and develop your business plans")})]})]}),e.jsxs(a.button,{onClick:w,className:"group relative overflow-hidden bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-xl shadow-indigo-500/30",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4,type:"spring"},children:[e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx(a.div,{animate:{rotate:[0,90,0]},transition:{duration:.5,delay:.4},children:e.jsx(_,{size:20})}),e.jsx("span",{className:"font-semibold",children:r("plans.create_plan","Create Plan")}),e.jsx(F,{size:16,className:"text-yellow-300"})]})]})]})}),y.length===0?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"text-center py-20",children:[e.jsx(a.div,{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/50 dark:to-purple-900/50 rounded-3xl flex items-center justify-center shadow-xl",variants:I,animate:"floating",children:e.jsx(x,{size:48,className:"text-indigo-600 dark:text-indigo-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:r("plans.no_plans","No business plans yet")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 text-lg",children:r("plans.start_first_plan","Start your first business plan now")}),e.jsxs(a.button,{onClick:w,whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-2xl transition-all duration-300 shadow-xl shadow-indigo-500/30",children:[e.jsx(_,{size:20}),r("plans.create_plan","Create Plan"),e.jsx(O,{size:16,className:"text-yellow-300"})]})]}):e.jsx(a.div,{variants:H,initial:"hidden",animate:"show",className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map((t,s)=>{var k;const o=M(t.status),j=o.icon,l=D(t);return e.jsx(a.div,{variants:A,whileHover:{y:-5,scale:1.02},className:"relative group cursor-pointer",onMouseEnter:()=>b(t.id),onMouseLeave:()=>b(null),onClick:()=>m.get(route("plans.show",t.id)),children:e.jsxs("div",{className:`relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-white/20 dark:border-gray-700/30 ${o.bgGradient}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 dark:via-white/10 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"}),e.jsx(a.button,{onClick:i=>{i.stopPropagation(),T(t)},className:`absolute top-4 right-4 z-10 transition-all duration-300 p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-600 hover:text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400 dark:hover:text-red-300 backdrop-blur-sm border border-red-500/20 ${S===t.id?"opacity-100 scale-100":"opacity-0 scale-90"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(V,{size:16})}),e.jsxs("div",{className:"p-6 border-b border-gray-100/50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white line-clamp-2 mb-2",children:t.title||"Untitled Plan"}),t.summary&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:t.summary})]}),e.jsxs(a.span,{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ${o.color}`,whileHover:{scale:1.05},children:[e.jsx(j,{size:12}),o.label]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a.div,{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",whileHover:{x:3},children:[e.jsx(Z,{size:14,className:"text-blue-500"}),e.jsx("span",{className:"font-medium",children:((k=t.project)==null?void 0:k.name)||r("common.not_specified","Not specified")})]}),e.jsxs(a.div,{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",whileHover:{x:3},children:[e.jsx(J,{size:14,className:"text-green-500"}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:r("plans.completion_progress","Progress")}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:[Math.round(l),"%"]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx(a.div,{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full",initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,ease:"easeOut",delay:s*.1}})})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(te,{size:14,className:"text-purple-500"}),e.jsxs("span",{children:[t.ai_suggestions&&Array.isArray(t.ai_suggestions)?t.ai_suggestions.length:0," ",r("plans.ai_suggestions","AI suggestions")]})]}),t.pdf_path&&e.jsxs(a.div,{className:"flex items-center gap-1 text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 cursor-pointer",whileHover:{scale:1.05},onClick:i=>{i.stopPropagation(),window.open(route("plans.pdf",t.id),"_blank")},children:[e.jsx(R,{size:14}),e.jsx("span",{children:"PDF"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 dark:bg-gray-700/30 flex gap-3",children:[e.jsxs(a.button,{onClick:i=>{i.stopPropagation(),m.get(route("plans.show",t.id))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-all duration-300",children:[e.jsx(X,{size:14}),r("plans.view_plan","View")]}),e.jsxs(a.button,{onClick:i=>{i.stopPropagation(),m.get(route("plans.edit",t.id))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 flex items-center justify-center gap-2 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white text-sm font-medium py-2 px-3 rounded-lg transition-all duration-300 border border-gray-200 dark:border-gray-600",children:[e.jsx(K,{size:14}),r("common.edit","Edit")]})]})]})},`plan-${t.id}`)})})]})]}),e.jsx("style",{jsx:!0,children:`
                .line-clamp-1 {
                    display: -webkit-box;
                    -webkit-line-clamp: 1;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
                .line-clamp-2 {
                    display: -webkit-box;
                    -webkit-line-clamp: 2;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
            `})]})}export{Se as default};
